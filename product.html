<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FlowerShop - Product Details</title>
    <link rel="stylesheet" href="product.css">
</head>
<body>

    <section id="header"> 
        <a href="#">
            <img src="/images/transparent_logoanthemio2.png" class= "logo" height="65" width="200">
    <div>
        <nav id="navbar">
            <li><a href="website.html">Home</a></li>
            <li><a href="products.html">Products</a></li>
            <li><a href="abt.html">About</a></li>
            <li><a href="review.html">Review</a></li>
            <li><a href="contact.html">Contact</a></li>
            <li><a class="active" href="cart.html"><img src="images/shopping-cart-icon-shopping-basket-on-transparent-background-free-png.webp" height="20" width="35" class="cart"></a></li> <!-- "Cart" is now active -->                
            <li><a class="buttonlogin" href="login.html"><button class="btnLogin">Login</button></a></li>
        </nav>

    </div>
        </a>
    </section>

    <section id="product-detail">
        <div class="product-image">
            <img id="productImage" src="" alt="">
        </div>
        <div class="product-info">
            <h1 id="productName"></h1>
            <p id="productDescription" class="description"></p>
            <p id="productPrice" class="price"></p>
            <button class="btn-add-to-cart" onclick="addToCart()">Add to Cart</button>

        </div>
    </section>


    <script>
        // The product details object (could be retrieved from a server or local storage)
        const productDetails = {
            'little-something': {
                name: 'A Little Something',
                image: 'images/newborn/A little something.jpg',
                description: 'A beautiful arrangement perfect for celebrating a new arrival.',
                price: '78'
            },
            'cerise-bouquet': {
                name: 'Colour Of Cerise Bouquet',
                image: 'images/newborn/Colour Of Cerise Bouquet.jpg',
                description: 'An amazing arrangement perfect for celebrating a new arrival.',
                price: '28'
            },
            'cut-flowers':{
                name: 'Colour Of Cerise Bouquet',
                image: 'images/newborn/cut flowers.jpg',
                description: 'An amazing arrangement perfect for celebrating a new arrival.',
                price: '28'

            },
            'loveinpink':{
                name: 'Colour Of Cerise Bouquet',
                image: 'images/newborn/love in pink.jpg',
                description: 'An amazing arrangement perfect for celebrating a new arrival.',
                price: '28'

            },
            'welcome':{
                name: 'Colour Of Cerise Bouquet',
                image: 'images/newborn/welcome.jpg',
                description: 'An amazing arrangement perfect for celebrating a new arrival.',
                price: '28'

            },
            'roses':{
                name: 'Colour Of Cerise Bouquet',
                image: 'images/newborn/roses.jpg',
                description: 'An amazing arrangement perfect for celebrating a new arrival.',
                price: '28'

            },
            'sugar-rush':{
                name: 'Colour Of Cerise Bouquet',
                image: 'images/newborn/Sugar rush.jpg',
                description: 'An amazing arrangement perfect for celebrating a new arrival.',
                price: '28'

            },
            
            'dreaming':{
                name: 'Colour Of Cerise Bouquet',
                image: 'images/newborn/Dreaming.jpg',
                description: 'An amazing arrangement perfect for celebrating a new arrival.',
                price: '28'

            }
            

        };
        
        // Function to extract query parameters from the URL
        function getQueryParams() {
            var params = {};
            var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m,key,value) {
                params[key] = value;
            });
            return params;
        }
        
        // Function to update the product details on the page
        function updateProductDetails() {
            var params = getQueryParams();
            if(params.product && productDetails[params.product]) {
                var product = productDetails[params.product];
                document.getElementById('productImage').src = product.image;
                document.getElementById('productName').textContent = product.name;
                document.getElementById('productDescription').textContent = product.description;
                document.getElementById('productPrice').textContent = `$${product.price}`;
            } else {
                // Handle case where product is not found or no product is specified
                document.getElementById('productImage').src = 'path/to/default/image.jpg';
                document.getElementById('productName').textContent = 'Product Not Found';
                document.getElementById('productDescription').textContent = '';
                document.getElementById('productPrice').textContent = '';
            }
        }
        
        // Call the update function on page load
        document.addEventListener('DOMContentLoaded', updateProductDetails);
        </script>    

<script>
    // This function could be in a separate JS file if preferred
    function addToCart() {
        // Check if a cart array already exists in localStorage
        let cart = localStorage.getItem('cart');
        if (cart) {
            cart = JSON.parse(cart);
        } else {
            cart = [];
        }
        
        // Assuming you have product details in your productDetails object
        const params = new URLSearchParams(window.location.search);
        const productId = params.get('product');
        const product = productDetails[productId];
        
        if (product) {
            // Add the product to the cart array
            cart.push(product);
            // Save the updated cart back to localStorage
            localStorage.setItem('cart', JSON.stringify(cart));
            // Optionally, update cart count in the UI
            alert(`${product.name} added to cart.`);
        } else {
            alert('Error: Product not found.');
        }
        
        // Optional: Update UI to reflect item in cart
        // This could involve displaying a cart count or updating a cart display section
    }
    
    // Load product details on page load
    document.addEventListener('DOMContentLoaded', function() {
        updateProductDetails();
    });
    </script>
    


</body>
</html>